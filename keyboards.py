from telegram import ReplyKeyboardMarkup

# === ĞšĞĞĞ¡Ğ¢ĞĞĞ¢Ğ« ===
DAYS_FULL = ["ĞŸĞ¾Ğ½ĞµĞ´ĞµĞ»ÑŒĞ½Ğ¸Ğº", "Ğ’Ñ‚Ğ¾Ñ€Ğ½Ğ¸Ğº", "Ğ¡Ñ€ĞµĞ´Ğ°", "Ğ§ĞµÑ‚Ğ²ĞµÑ€Ğ³", "ĞŸÑÑ‚Ğ½Ğ¸Ñ†Ğ°", "Ğ¡ÑƒĞ±Ğ±Ğ¾Ñ‚Ğ°", "Ğ’Ğ¾ÑĞºÑ€ĞµÑĞµĞ½ÑŒĞµ"]

# === Ğ“Ğ›ĞĞ’ĞĞĞ• ĞœĞ•ĞĞ® (Ğ¾ÑÑ‚Ğ°Ğ²Ğ»ÑĞµĞ¼ Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ Ğ¾Ğ±Ñ‹Ñ‡Ğ½ÑƒÑ ĞºĞ»Ğ°Ğ²Ğ¸Ğ°Ñ‚ÑƒÑ€Ñƒ) ===
def create_main_menu(subgroup: str = '1') -> ReplyKeyboardMarkup:
    """Ğ“Ğ»Ğ°Ğ²Ğ½Ğ¾Ğµ Ğ¼ĞµĞ½Ñ Ğ±Ğ¾Ñ‚Ğ° - ĞĞ‘Ğ«Ğ§ĞĞĞ¯ ĞšĞ›ĞĞ’Ğ˜ĞĞ¢Ğ£Ğ Ğ"""
    menu = [
        ["ğŸ“… Ğ¡ĞµĞ³Ğ¾Ğ´Ğ½Ñ", "ğŸ“… Ğ—Ğ°Ğ²Ñ‚Ñ€Ğ°"],
        ["ğŸ“‹ Ğ’ÑÑ Ğ½ĞµĞ´ĞµĞ»Ñ", "â• Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ ÑƒÑ€Ğ¾Ğº"],
        ["ğŸ—‘ï¸ Ğ£Ğ´Ğ°Ğ»Ğ¸Ñ‚ÑŒ ÑƒÑ€Ğ¾Ğº", "ğŸ“Š Ğ¡Ñ‚Ğ°Ñ‚Ğ¸ÑÑ‚Ğ¸ĞºĞ°"],
        [f"ğŸ¯ ĞŸĞ¾Ğ´Ğ³Ñ€ÑƒĞ¿Ğ¿Ğ° {subgroup}", "â“ ĞŸĞ¾Ğ¼Ğ¾Ñ‰ÑŒ"]
    ]
    return ReplyKeyboardMarkup(menu, resize_keyboard=True, one_time_keyboard=False)


# === Ğ¢Ğ•ĞšĞ¡Ğ¢ĞĞ’Ğ«Ğ• ĞšĞĞœĞĞĞ”Ğ« (Ğ²Ğ¼ĞµÑÑ‚Ğ¾ inline-ĞºĞ½Ğ¾Ğ¿Ğ¾Ğº) ===
def get_days_list(subgroup: str = '1') -> str:
    """Ğ’Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‰Ğ°ĞµÑ‚ Ñ‚ĞµĞºÑÑ‚Ğ¾Ğ²Ñ‹Ğ¹ ÑĞ¿Ğ¸ÑĞ¾Ğº Ğ´Ğ½ĞµĞ¹"""
    days_text = "ğŸ“… Ğ”Ğ¾ÑÑ‚ÑƒĞ¿Ğ½Ñ‹Ğµ Ğ´Ğ½Ğ¸:\n\n"
    for day in DAYS_FULL:
        days_text += f"/day_{day.lower()} - {day} (Ğ¿Ğ¾Ğ´Ğ³Ñ€ÑƒĞ¿Ğ¿Ğ° {subgroup})\n"
    days_text += f"\n/week - Ğ’ÑÑ Ğ½ĞµĞ´ĞµĞ»Ñ (Ğ¿Ğ¾Ğ´Ğ³Ñ€ÑƒĞ¿Ğ¿Ğ° {subgroup})"
    return days_text


def get_subgroups_list() -> str:
    """Ğ’Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‰Ğ°ĞµÑ‚ Ñ‚ĞµĞºÑÑ‚Ğ¾Ğ²Ñ‹Ğ¹ ÑĞ¿Ğ¸ÑĞ¾Ğº Ğ¿Ğ¾Ğ´Ğ³Ñ€ÑƒĞ¿Ğ¿"""
    return (
        "ğŸ¯ Ğ”Ğ¾ÑÑ‚ÑƒĞ¿Ğ½Ñ‹Ğµ Ğ¿Ğ¾Ğ´Ğ³Ñ€ÑƒĞ¿Ğ¿Ñ‹:\n\n"
        "/subgroup_1 - ĞŸĞ¾Ğ´Ğ³Ñ€ÑƒĞ¿Ğ¿Ğ° 1\n"
        "/subgroup_2 - ĞŸĞ¾Ğ´Ğ³Ñ€ÑƒĞ¿Ğ¿Ğ° 2\n"
        "/subgroup_all - Ğ”Ğ»Ñ Ğ²ÑĞµÑ… Ğ¿Ğ¾Ğ´Ğ³Ñ€ÑƒĞ¿Ğ¿"
    )


def get_confirmation_text(lesson_id: int) -> str:
    """Ğ¢ĞµĞºÑÑ‚ Ğ´Ğ»Ñ Ğ¿Ğ¾Ğ´Ñ‚Ğ²ĞµÑ€Ğ¶Ğ´ĞµĞ½Ğ¸Ñ ÑƒĞ´Ğ°Ğ»ĞµĞ½Ğ¸Ñ"""
    return (
        f"ğŸ—‘ï¸ Ğ£Ğ´Ğ°Ğ»Ğ¸Ñ‚ÑŒ ÑƒÑ€Ğ¾Ğº #{lesson_id}?\n\n"
        "ĞĞ°Ğ¿Ğ¸ÑˆĞ¸Ñ‚Ğµ:\n"
        f"âœ… /confirm_delete_{lesson_id} - Ñ‡Ñ‚Ğ¾Ğ±Ñ‹ ÑƒĞ´Ğ°Ğ»Ğ¸Ñ‚ÑŒ\n"
        "âŒ /cancel - Ñ‡Ñ‚Ğ¾Ğ±Ñ‹ Ğ¾Ñ‚Ğ¼ĞµĞ½Ğ¸Ñ‚ÑŒ"
    )


# === Ğ¢Ğ•ĞšĞ¡Ğ¢ĞĞ’Ğ«Ğ• ĞšĞĞœĞĞĞ”Ğ« Ğ”Ğ›Ğ¯ Ğ”ĞĞ•Ğ™ ===
def get_day_commands() -> list:
    """Ğ’Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‰Ğ°ĞµÑ‚ ÑĞ¿Ğ¸ÑĞ¾Ğº ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´ Ğ´Ğ»Ñ Ğ´Ğ½ĞµĞ¹"""
    commands = []
    for day in DAYS_FULL:
        commands.append(f"/day_{day.lower()}")
    return commands


# === Ğ£ĞŸĞ ĞĞ©Ğ•ĞĞĞ«Ğ• ĞšĞ›ĞĞ’Ğ˜ĞĞ¢Ğ£Ğ Ğ« (ĞµÑĞ»Ğ¸ Ğ²ÑÑ‘ Ğ¶Ğµ Ğ¿Ğ¾Ğ½Ğ°Ğ´Ğ¾Ğ±ÑÑ‚ÑÑ) ===
def create_simple_days_keyboard() -> ReplyKeyboardMarkup:
    """ĞŸÑ€Ğ¾ÑÑ‚Ğ°Ñ ĞºĞ»Ğ°Ğ²Ğ¸Ğ°Ñ‚ÑƒÑ€Ğ° Ñ Ğ´Ğ½ÑĞ¼Ğ¸"""
    keyboard = []
    for i in range(0, len(DAYS_FULL), 3):
        row = DAYS_FULL[i:i + 3]
        keyboard.append(row)
    keyboard.append(["ğŸ“‹ Ğ’ÑÑ Ğ½ĞµĞ´ĞµĞ»Ñ", "ğŸ  Ğ“Ğ»Ğ°Ğ²Ğ½Ğ¾Ğµ Ğ¼ĞµĞ½Ñ"])
    return ReplyKeyboardMarkup(keyboard, resize_keyboard=True)


async def help_command(update: Update, context: ContextTypes.DEFAULT_TYPE):
    """ĞŸĞ¾Ğ¼Ğ¾Ñ‰ÑŒ: /help - Ğ¿Ğ¾ĞºĞ°Ğ·Ñ‹Ğ²Ğ°ĞµÑ‚ Ğ²ÑĞµ ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´Ñ‹"""
    help_text = (
        "ğŸ†˜ *Ğ¡ĞŸĞ ĞĞ’ĞšĞ ĞŸĞ ĞšĞĞœĞĞĞ”ĞĞœ*\n\n"

        "ğŸ”„ *ĞšĞĞĞŸĞšĞ˜ ĞŸĞĞ” ĞšĞ›ĞĞ’Ğ˜ĞĞ¢Ğ£Ğ ĞĞ™:*\n"
        "ĞŸÑ€Ğ¾ÑÑ‚Ğ¾ Ğ½Ğ°Ğ¶Ğ¼Ğ¸Ñ‚Ğµ Ğ½Ğ° Ğ½ÑƒĞ¶Ğ½ÑƒÑ ĞºĞ½Ğ¾Ğ¿ĞºÑƒ:\n"
        "â€¢ 'Ğ¡ĞµĞ³Ğ¾Ğ´Ğ½Ñ' - Ñ€Ğ°ÑĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ Ğ½Ğ° ÑĞµĞ³Ğ¾Ğ´Ğ½Ñ\n"
        "â€¢ 'Ğ—Ğ°Ğ²Ñ‚Ñ€Ğ°' - Ñ€Ğ°ÑĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ Ğ½Ğ° Ğ·Ğ°Ğ²Ñ‚Ñ€Ğ°\n"
        "â€¢ 'Ğ’ÑÑ Ğ½ĞµĞ´ĞµĞ»Ñ' - Ğ²ÑÑ Ğ½ĞµĞ´ĞµĞ»Ñ\n"
        "Ğ¸ Ñ‚.Ğ´.\n\n"

        # ... Ğ¾ÑÑ‚Ğ°Ğ»ÑŒĞ½Ğ¾Ğ¹ Ñ‚ĞµĞºÑÑ‚ ...
    )
def create_simple_subgroups_keyboard() -> ReplyKeyboardMarkup:
    """ĞŸÑ€Ğ¾ÑÑ‚Ğ°Ñ ĞºĞ»Ğ°Ğ²Ğ¸Ğ°Ñ‚ÑƒÑ€Ğ° Ñ Ğ¿Ğ¾Ğ´Ğ³Ñ€ÑƒĞ¿Ğ¿Ğ°Ğ¼Ğ¸"""
    keyboard = [
        ["ğŸ¯ ĞŸĞ¾Ğ´Ğ³Ñ€ÑƒĞ¿Ğ¿Ğ° 1", "ğŸ¯ ĞŸĞ¾Ğ´Ğ³Ñ€ÑƒĞ¿Ğ¿Ğ° 2"],
        ["ğŸ‘¥ Ğ”Ğ»Ñ Ğ²ÑĞµÑ…", "ğŸ  Ğ“Ğ»Ğ°Ğ²Ğ½Ğ¾Ğµ Ğ¼ĞµĞ½Ñ"]
    ]
    return ReplyKeyboardMarkup(keyboard, resize_keyboard=True)